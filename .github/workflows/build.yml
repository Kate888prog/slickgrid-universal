name: Build Angular SlickGrid

on:
  push:
    branches: [master, main]
  pull_request:
    branches: [master, main]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    # –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
    - name: Checkout code
      uses: actions/checkout@v4
      
    # –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        
    # –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å pnpm
    - name: Install pnpm
      run: npm install -g pnpm
      
    # –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    - name: Install dependencies
      run: pnpm install
      
    # –®–∞–≥ 5: –°–æ–±—Ä–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
    - name: Build core packages
      run: pnpm build:core
      
    # –®–∞–≥ 6: –°–æ–±—Ä–∞—Ç—å Angular SlickGrid
    - name: Build Angular SlickGrid
      run: |
        cd frameworks/angular-slickgrid
        pnpm build
        
    # –®–∞–≥ 7: –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–±–æ—Ä–∫–µ
    - name: Show build info
      run: |
        echo "‚úÖ –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!"
        echo "üì¶ Angular –ø—Ä–æ–µ–∫—Ç —Å–æ–±—Ä–∞–Ω –≤ frameworks/angular-slickgrid/dist"